*{box-sizing:border-box;font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale}
:root{
  --primary-1: #ff5f7a; /* warm pink */
  --primary-2: #4dd3ff; /* cyan */
  --accent-gradient: linear-gradient(135deg, var(--primary-1) 0%, var(--primary-2) 100%);
  --bg-gradient: linear-gradient(180deg,#fff8fb,#f7fcff);
  --card: #ffffff;
  --muted: #6b7280;
  --glass: rgba(255,255,255,0.72);
} 
html,body,#root{height:100%;margin:0}
body{background: radial-gradient(1200px 600px at 10% 10%, #f2f8ff 0%, transparent 12%), radial-gradient(800px 400px at 90% 90%, #fff8ff 0%, transparent 10%); color:#111}
.app{display:flex;height:100vh;position:relative;overflow:auto} /* allow full page scrolling */
.main{flex:1;display:flex;flex-direction:column;overflow:auto} /* make main content scrollable */
.bg{position:absolute;inset:-20% -20%;background:linear-gradient(120deg, rgba(124,97,255,0.12), rgba(62,198,255,0.06));filter:blur(48px);transform:rotate(8deg);pointer-events:none}
.sidebar{width:360px;padding:24px;border-right:1px solid rgba(15,23,42,0.06);display:flex;flex-direction:column;gap:16px;background:transparent}
.brand{display:flex;flex-direction:column}
.brand > div:first-child{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.title{font-size:28px;margin:0;background:var(--accent-gradient);-webkit-background-clip:text;background-clip:text;color:transparent;letter-spacing:-0.4px}
.search-input{padding:10px;border-radius:10px;border:1px solid rgba(12,18,33,0.08);width:260px;background:linear-gradient(180deg,#fff,#fffefc)}
.tag{font-size:12px;color:var(--muted);margin-top:6px}
.add-form{display:flex;gap:10px;margin-top:8px;align-items:center}
.add-form input{flex:1;padding:12px;border-radius:12px;border:1px solid rgba(14,20,36,0.06);background:linear-gradient(180deg,#fff,#fffefc);box-shadow:0 6px 18px rgba(12,18,33,0.03);transition:transform .18s ease}
.add-form input:focus{outline:none;box-shadow:0 8px 28px rgba(255,95,122,0.06)}
.add-form .cta{padding:10px 14px;border-radius:10px;border:0;background:var(--accent-gradient);color:white;font-weight:700;cursor:pointer;box-shadow:0 12px 30px rgba(255,95,122,0.12)}
.cta.ghost{background:transparent;color:var(--muted);border:1px solid rgba(14,20,36,0.04)}
 .small{font-size:13px;padding:8px 10px;border-radius:10px;border:0;background:transparent;color:var(--muted);cursor:pointer;touch-action:manipulation;-webkit-tap-highlight-color:transparent} 
.small.primary{background:var(--accent-gradient);color:white;box-shadow:0 10px 26px rgba(77,211,255,0.08)}
.small:hover{transform:translateY(-2px)}

/* Thumbnail pulse and new badge */
.thumb-wrap{position:relative}
.thumb-wrap img{border-radius:8px}
.new-badge{position:absolute;left:10px;top:8px;background:linear-gradient(90deg,#ffb86b,#ff6bcb);color:white;padding:4px 8px;border-radius:999px;font-size:11px;font-weight:700;box-shadow:0 8px 20px rgba(255,107,203,0.12)}
.new-video .thumb-wrap img{animation:pulse 2s infinite ease-in-out}
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.03)}100%{transform:scale(1)}}

/* Reduce motion toggle */
.reduce-toggle{display:flex;gap:8px;align-items:center;font-size:13px;color:var(--muted)}
.reduce-toggle input{width:18px;height:18px}

/* onboarding */
.onboarding{display:flex;flex-direction:column;align-items:center;gap:12px;padding:18px}
.onboard-text h3{margin:0}
.onboard-text p{margin:0;color:var(--muted)}

.intro-anim{display:block}
.intro-anim rect, .intro-anim circle{filter:drop-shadow(0 10px 24px rgba(59,52,113,0.08))}
.custom-svg svg{max-width:220px}


/* modal */
.modal-overlay{position:fixed;inset:0;background:rgba(9,10,12,0.42);display:flex;align-items:center;justify-content:center;padding:20px;z-index:60}
.modal{background:var(--card);padding:20px;border-radius:14px;box-shadow:0 32px 72px rgba(16,24,40,0.18);max-width:820px;width:100%}
.search-banner{margin-bottom:8px;padding:12px;border-radius:10px;background:linear-gradient(90deg,#fff8fb,#f7fcff);display:flex;align-items:center;gap:12px}
.checkmark{background:linear-gradient(90deg,var(--primary-1),var(--primary-2));padding:4px;border-radius:6px;box-shadow:0 6px 18px rgba(77,211,255,0.08);display:inline-flex;align-items:center;justify-content:center}
.checkmark path{stroke-dasharray:28;stroke-dashoffset:28;animation:dash .42s ease forwards}
@keyframes dash{from{stroke-dashoffset:28}to{stroke-dashoffset:0}}

/* digest widget */
.digest-widget{display:flex;align-items:center;gap:8px;padding:8px;border-radius:10px;background:linear-gradient(90deg,#f7f8ff,#fffaf8);cursor:pointer;box-shadow:0 8px 20px rgba(12,18,33,0.04);transition:transform .12s ease}
.digest-widget:hover{transform:translateY(-4px)}
.digest-title{font-weight:700}
.digest-badge{background:linear-gradient(90deg,#7b61ff,#3ec6ff);color:white;padding:4px 8px;border-radius:999px;font-weight:700;box-shadow:0 8px 18px rgba(59,52,113,0.12);animation:badge-pulse 2s infinite}
@keyframes badge-pulse{0%{transform:scale(1)}50%{transform:scale(1.06)}100%{transform:scale(1)}}

/* loading overlay */
.loading-overlay{position:fixed;inset:0;background:linear-gradient(180deg,rgba(16,24,40,0.28),rgba(255,255,255,0.02));display:flex;align-items:center;justify-content:center;z-index:80}
.loading-card{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 28px 60px rgba(16,24,40,0.18);text-align:center}
.loading-svg{width:120px;height:120px}
.dot1{transform-origin:60px 60px;animation:orbit 1.8s linear infinite}
.dot2{transform-origin:60px 60px;animation:orbit 1.8s linear infinite .2s}
.dot3{transform-origin:60px 60px;animation:orbit 1.8s linear infinite .4s}
@keyframes orbit{0%{transform:rotate(0deg) translateY(-40px) rotate(0deg)}100%{transform:rotate(360deg) translateY(-40px) rotate(-360deg)}}


/* small controls */
.small{font-size:12px;color:var(--muted);background:transparent;border:1px solid rgba(12,18,33,0.06);padding:6px 10px;border-radius:8px;cursor:pointer;touch-action:manipulation;-webkit-tap-highlight-color:transparent}
.small-select{padding:8px 10px;border-radius:8px;border:1px solid rgba(12,18,33,0.06);background:white}

/* file label tweak */
label.small input[type="file"]{display:none}

/* Focus states */
button:focus, input:focus, .sub-btn:focus{outline:3px solid rgba(124,97,255,0.15);outline-offset:3px}

/* Mobile touch friendly tweaks */
@media (max-width:600px){
  /* make list items more spacious on small screens */
  .videolist li{padding:14px;gap:14px}
  .scrub-wrap input[type=range]{width:100%;accent-color:var(--primary-1)}
  .scrub-wrap .small{min-width:48px}
  .videolist img{width:100%;height:160px;object-fit:cover}
  .videolist ul{grid-template-columns:1fr}

  /* mini digest button */
  .mini-digest{position:fixed;right:16px;bottom:18px;background:linear-gradient(90deg,var(--primary-1),var(--primary-2));color:white;border:0;padding:12px;border-radius:999px;box-shadow:0 18px 42px rgba(124,97,255,0.14);z-index:90;display:flex;align-items:center;justify-content:center}
  .mini-digest .mini-digest-count{font-weight:700}

  /* increase tap targets */
  .small, .tiny, .cta{min-height:44px;padding:12px 14px}
  .add-form input, .add-form .cta{padding:14px}

  /* sidebar becomes top bar */
  .sidebar{width:100%;position:fixed;top:0;left:0;right:0;z-index:40;border-right:0;border-bottom:1px solid rgba(15,23,42,0.06);display:flex;flex-direction:column;padding:10px}
  .app{padding-top:96px}
  .brand{padding:0}
  .brand > div{flex-wrap:wrap}
  .search-hint{display:none}

  /* modal and banner growth */
  .modal{max-width:calc(100% - 32px);width:auto;padding:12px;border-radius:12px}
  .search-banner{padding:10px}

  /* mobile digest compact */
  .digest-widget{padding:8px;gap:10px;border-radius:12px;background:linear-gradient(90deg,#fff8f6,#f7fbff)}
  .digest-widget .digest-title{display:none}
  .digest-widget .digest-badge{font-weight:700;padding:6px 10px}

  /* mobile player controls */
  .mobile-controls{display:flex;gap:8px;margin-top:10px}
  .mobile-controls .small, .mobile-controls .cta{flex:1}

  /* toast spacing */
  .toast{right:12px;left:12px;bottom:12px}
}

@media (max-width:420px){
  .sidebar{padding:8px}
  .search-input{width:100%}
  .title{font-size:22px}
  .digest-widget{padding:6px;gap:6px}
}

/* small inline spinner for search discovery */
.spinner{width:18px;height:18px;border-radius:999px;border:3px solid rgba(255,255,255,0.18);border-top-color:rgba(255,255,255,0.9);animation:spin .9s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.spinner[aria-hidden]{border-color:rgba(124,97,255,0.14);border-top-color:var(--primary-1)}

/* discovery overlay inside modal */
.modal{position:relative}
.discovery-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.92);backdrop-filter:blur(6px);z-index:60;border-radius:14px}
.discovery-card{background:transparent;padding:18px;border-radius:12px;display:flex;flex-direction:column;align-items:center;gap:8px;color:#0f1724;font-weight:600}

.subs h3, .watch-later h3{margin:8px 0 6px 0;color:#111}
.subs ul, .watch-later ul{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}
.subs li{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(250,250,255,0.5));box-shadow:0 6px 14px rgba(12,18,33,0.04)}
.sub-btn{background:none;border:none;padding:0;color:#1f2937;cursor:pointer;font-weight:600}
.remove{background:transparent;border:0;padding:6px 8px;border-radius:8px;cursor:pointer;color:var(--muted)}
.main{flex:1;display:flex;flex-direction:column}
.player{padding:22px;border-bottom:1px solid rgba(12,18,33,0.04)}
.video-title{margin:0 0 12px 0;font-size:18px}
.iframe-wrap{position:relative;padding-top:56.25%;border-radius:12px;overflow:hidden;box-shadow:0 20px 40px rgba(16,24,40,0.06)}
.iframe-wrap iframe{position:absolute;top:0;left:0;width:100%;height:100%}

/* click-to-load placeholder */
.play-placeholder{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;background:#000;border-radius:8px;overflow:hidden}
.play-placeholder img{width:100%;height:100%;object-fit:cover;filter:brightness(.36)}
.play-btn{position:absolute;width:86px;height:86px;border-radius:999px;border:none;background:var(--accent-gradient);color:white;font-size:30px;font-weight:700;display:flex;align-items:center;justify-content:center;box-shadow:0 16px 40px rgba(124,97,255,0.18);cursor:pointer;transform-origin:center;animation:play-pulse 2.2s ease-in-out infinite}
.play-btn:hover{transform:translateY(-4px) scale(1.02)}
@keyframes play-pulse{0%{transform:scale(1)}45%{transform:scale(1.02)}100%{transform:scale(1)}}
.play-caption{position:absolute;bottom:14px;color:white;font-size:13px;padding:6px 10px;border-radius:10px;background:rgba(0,0,0,0.28)}

/* player error specific */
.player-error{background:linear-gradient(180deg,rgba(196,0,77,0.9),rgba(124,97,255,0.9));padding:12px;border-radius:12px;color:white;display:flex;flex-direction:column;gap:8px;align-items:flex-start}
.player-error .actions{display:flex;gap:8px}


/* player overlay when playback is blocked or restricted */
.player-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;gap:12px;background:linear-gradient(180deg, rgba(16,24,40,0.28), rgba(255,255,255,0.02));z-index:40;padding:18px}
.player-overlay .msg{color:white;text-align:center}
.player-overlay .msg h4{margin:0 0 6px 0}
.player-overlay .player-actions{display:flex;gap:8px}
.player-overlay .player-actions .small{background:white;color:#0f1724;padding:8px 10px;border-radius:8px}
.player-overlay .player-actions .cta{background:var(--accent-gradient);color:white;padding:10px 12px;border-radius:10px;font-weight:700}

/* ephemeral badge shown when strict privacy is temporarily disabled for current video */
.privacy-badge{display:inline-flex;gap:8px;align-items:center;margin-top:8px;padding:6px 10px;border-radius:999px;background:linear-gradient(90deg,var(--primary-1),var(--primary-2));color:white;font-weight:700;font-size:12px;box-shadow:0 10px 26px rgba(124,97,255,0.12)}
.privacy-badge .privacy-dismiss{background:transparent;border:0;color:rgba(255,255,255,0.9);font-weight:700;margin-left:8px;cursor:pointer;border-radius:6px;padding:4px}
.privacy-badge .privacy-dismiss:focus{outline:3px solid rgba(255,255,255,0.12)}
@media (max-width:600px){
  .privacy-badge{font-size:12px;padding:8px 12px}
}
.controls{margin-top:10px}
.videolist{padding:16px;overflow:auto}
.videolist h3{margin:0 0 12px 0}
.videolist ul{list-style:none;padding:0;margin:0;display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px}
.videolist li{display:flex;gap:12px;align-items:center;padding:12px;border-radius:12px;cursor:pointer;background:linear-gradient(180deg,#fff,#fbfdff);box-shadow:0 12px 30px rgba(12,18,33,0.04);transition:transform .18s ease, box-shadow .18s ease}
.videolist li:hover{transform:translateY(-6px);box-shadow:0 18px 42px rgba(12,18,33,0.07)}
.videolist img{width:140px;height:78px;object-fit:cover;border-radius:8px}
.videolist .meta{flex:1}
.videolist .meta .title{font-weight:600;color:#0f1724}
.videolist .meta .channel{font-size:12px;color:var(--muted);margin-top:6px}
button.save{padding:8px 10px;border-radius:8px;border:0;background:rgba(124,97,255,0.12);color:#4b3fb6;cursor:pointer;font-weight:600}
.small{font-size:12px;color:var(--muted);background:transparent;border:1px solid rgba(12,18,33,0.06);padding:6px 10px;border-radius:8px;cursor:pointer;touch-action:manipulation;-webkit-tap-highlight-color:transparent}
.tiny{padding:4px 8px;border-radius:6px;border:1px solid rgba(12,18,33,0.06);background:white}
.boost-controls{display:inline-flex;align-items:center;gap:6px}
.boost-val{font-weight:700;font-size:12px}
.boost-bar{width:80px;height:8px;border-radius:6px;background:linear-gradient(90deg,#f0f3ff,#e9f7ff);overflow:hidden}
.boost-fill{height:100%;background:linear-gradient(90deg,#7b61ff,#3ec6ff);transition:width .28s cubic-bezier(.2,.9,.2,1)}
.boost-controls .tiny{padding:4px 6px}
.boost-tip{position:absolute;top:-36px;left:0;background:linear-gradient(90deg,#7B61FF,#3EC6FF);color:white;padding:6px 8px;border-radius:8px;font-size:12px;box-shadow:0 8px 20px rgba(59,52,113,0.12);transform-origin:center;animation:tip-in .36s ease}
@keyframes tip-in{0%{opacity:0;transform:translateY(6px) scale(.95)}100%{opacity:1;transform:translateY(0) scale(1)}}
.error{color:#b00020}

/* Subscribed check */
.sub-check{display:inline-flex;align-items:center;justify-content:center;background:linear-gradient(90deg,var(--primary-1),var(--primary-2));padding:4px;border-radius:6px;box-shadow:0 8px 20px rgba(124,97,255,0.08)}
.sub-check svg{filter:drop-shadow(0 6px 14px rgba(77,211,255,0.08))}

/* recommendation boost highlight */
.recommend-item{transition:box-shadow .28s ease, transform .28s ease, filter .28s ease}
.recommend-item.boosted{box-shadow:0 18px 40px rgba(255,95,122,0.12);transform:translateY(-6px);animation:boost-pulse .9s ease}
.recommend-item.boosted::after{content:'';position:absolute;left:0;right:0;height:4px;border-radius:4px;background:linear-gradient(90deg,var(--primary-1),var(--primary-2));margin-top:-8px}
@keyframes boost-pulse{0%{transform:translateY(-2px) scale(1)}50%{transform:translateY(-6px) scale(1.02)}100%{transform:translateY(-4px) scale(1)}}
@media (prefers-reduced-motion: reduce){
  .recommend-item{transition:none}
  .recommend-item.boosted{animation:none;transform:none;box-shadow:0 12px 26px rgba(255,95,122,0.08)}
}

.empty{color:var(--muted)}
.empty-main{padding:20px;color:var(--muted)}
.toast{position:fixed;right:20px;bottom:24px;padding:10px 14px;border-radius:10px;background:linear-gradient(90deg,#3ec6ff,#7b61ff);color:white;box-shadow:0 12px 30px rgba(59,52,113,0.18);font-weight:600}

.sub-item{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(250,250,255,0.5));box-shadow:0 6px 14px rgba(12,18,33,0.04);margin-bottom:8px}
.modal .small{margin-left:8px}

@media (max-width:900px){
  .sidebar{width:100%;position:relative;z-index:5}
  .app{flex-direction:column}
  .videolist ul{grid-template-columns:repeat(auto-fill,minmax(220px,1fr))}
}
